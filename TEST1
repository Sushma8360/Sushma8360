pipeline{
agent any
parameters {
  string defaultValue: 'PROD', name: 'NAME'
}


environment{
TEST="This is TESTING"
}

stages{

stage('A'){
catchError(buildresult:'SUCCESS', stageResult:'FAILURE')
steps{


echo "PROD ENV"
sh exit 1
}
}
}
}

stage('B')
{
when{
expression{

params.NAME=="TEST"

}
}
environment{
TEST1="THIS IS MANUAL"
}

steps{
echo "$TEST1"


}
}
}
}
