pipeline{
agent any
parameters {
  string defaultValue: 'PROD', name: 'NAME'
}


environment{
TEST="This is TESTING"
}

stages{

stage('A'){
steps{
script{
if("${params.NAME}"=="PROD")
{
echo "PROD ENV"
}
else
{
echo "TEST ENV"

}
}
}
}

stage('B')
{
when{
expression{

params.NAME=="TEST"

}
}
environment{
TEST1="THIS IS MANUAL"
}
steps{
echo "$TEST1"


}
}
}
}
